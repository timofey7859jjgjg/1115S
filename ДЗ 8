import random
import logging
from functools import wraps


logging.basicConfig(
    filename="dog_simulation.log",
    level=logging.INFO,
    format="%(asctime)s | %(levelname)s | %(message)s",
    encoding="utf-8"
)


def log_errors(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        try:
            return func(*args, **kwargs)
        except Exception as e:
            logging.error(f"–û—à–∏–±–∫–∞ –≤ {func.__name__}: {e}")
            raise
    return wrapper


class Dog:
    def __init__(self, name, age):
        self.name = name
        self.age = age
        self.energy = 100
        self.hunger = 0
        self.mood = 100
        self.health = 100
        self.cleanliness = 100
        self.alive = True
        logging.info(f"–°–æ–∑–¥–∞–Ω–∞ —Å–æ–±–∞–∫–∞ {self.name}, –≤–æ–∑—Ä–∞—Å—Ç {self.age}")

    def _check_alive(self):
        if self.health <= 0 or self.energy <= 0:
            self.alive = False
            logging.warning(f"{self.name} –±–æ–ª—å—à–µ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω")
            print(f"[{self.name}] –æ—á–µ–Ω—å –æ—Å–ª–∞–± –∏ –±–æ–ª—å—à–µ –Ω–µ –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è...")
        return self.alive

    @log_errors
    def bark(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} –ª–∞–µ—Ç")
        print(f"[{self.name}] –≥–æ–≤–æ—Ä–∏—Ç: –ì–∞–≤-–≥–∞–≤! üì¢")
        self.energy -= 5
        self.hunger += 5
        self.mood += 5

    @log_errors
    def eat(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} –µ—Å—Ç")
        print(f"[{self.name}] –µ—Å—Ç –∫–æ—Ä–º –∏ –∫–æ—Å—Ç–æ—á–∫—É ü¶¥")
        self.hunger = max(0, self.hunger - 30)
        self.energy = min(100, self.energy + 15)
        self.mood += 10
        self.cleanliness -= 5

    @log_errors
    def sleep(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} —Å–ø–∏—Ç")
        print(f"[{self.name}] —Å–ø–∏—Ç... üò¥")
        self.energy = min(100, self.energy + 40)
        self.hunger += 10
        self.mood += 5

    @log_errors
    def play(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} –∏–≥—Ä–∞–µ—Ç")
        print(f"[{self.name}] –∏–≥—Ä–∞–µ—Ç —Å –º—è—á–∏–∫–æ–º üéæ")
        self.energy -= 15
        self.hunger += 10
        self.mood = min(100, self.mood + 20)
        self.cleanliness -= 10

    @log_errors
    def wash(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} –º–æ–µ—Ç—Å—è")
        print(f"[{self.name}] –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–∞–Ω–Ω—É üõÅ")
        self.cleanliness = 100
        self.energy -= 10
        self.mood += 5

    @log_errors
    def visit_vet(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} –ø–æ—Å–µ—â–∞–µ—Ç –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∞")
        print(f"[{self.name}] –ø–æ—Å–µ—â–∞–µ—Ç –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∞ ü©∫")
        self.health = min(100, self.health + 40)
        self.mood -= 10
        self.energy -= 10

    @log_errors
    def hunt(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} –æ—Ö–æ—Ç–∏—Ç—Å—è")
        print(f"[{self.name}] –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–π–º–∞—Ç—å –±–µ–ª–∫—É üêøÔ∏è...")
        success = random.choice([True, False])
        self.energy -= 20
        self.hunger += 15
        if success:
            logging.info(f"{self.name} —É—Å–ø–µ—à–Ω–æ –ø–æ–æ—Ö–æ—Ç–∏–ª—Å—è")
            print(f"[{self.name}] –Ω–∞—à—ë–ª —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ! ü•≥")
            self.hunger = max(0, self.hunger - 40)
            self.mood = min(100, self.mood + 15)
        else:
            logging.info(f"{self.name} –Ω–µ—É–¥–∞—á–Ω–∞—è –æ—Ö–æ—Ç–∞")
            print(f"[{self.name}] –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–µ–ª üí®")
            self.mood -= 10

    @log_errors
    def wag_tail(self):
        if not self._check_alive():
            return
        logging.info(f"{self.name} –≤–∏–ª—è–µ—Ç —Ö–≤–æ—Å—Ç–æ–º")
        print(f"[{self.name}] –≤–∏–ª—è–µ—Ç —Ö–≤–æ—Å—Ç–æ–º ‚ù§")
        self.mood = min(100, self.mood + 10)
        self.energy -= 5

    @log_errors
    def get_sick(self):
        if not self._check_alive():
            return
        logging.warning(f"{self.name} –∑–∞–±–æ–ª–µ–ª")
        print(f"[{self.name}] –∑–∞–±–æ–ª–µ–ª ü§í")
        self.health = 30
        self.mood = 20

    def status(self):
        logging.info(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è {self.name}")
        print(f"\n--- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–±–∞–∫–∏ {self.name} ---")
        print(f"–í–æ–∑—Ä–∞—Å—Ç: {self.age}")
        print(f"–≠–Ω–µ—Ä–≥–∏—è: {self.energy}")
        print(f"–ì–æ–ª–æ–¥: {self.hunger}")
        print(f"–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: {self.mood}")
        print(f"–ó–¥–æ—Ä–æ–≤—å–µ: {self.health}")
        print(f"–ß–∏—Å—Ç–æ—Ç–∞: {self.cleanliness}")
        print(f"–°–æ—Å—Ç–æ—è–Ω–∏–µ: {'‚úÖ –∂–∏–≤–æ–π' if self.alive else 'üíÄ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π'}")
        print("--------------------------\n")



pirozhok = Dog("–ü–∏—Ä–æ–∂–æ–∫", 3)

pirozhok.status()
pirozhok.play()
pirozhok.eat()
pirozhok.hunt()
pirozhok.wash()
pirozhok.sleep()
pirozhok.wag_tail()
pirozhok.get_sick()
pirozhok.visit_vet()
pirozhok.status()
